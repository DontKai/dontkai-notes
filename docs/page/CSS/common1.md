# CSS3 通用 1

## 一、如何计算 CSS 的优先级？

### 1、优先级等级：

从高到低，依次为：

1. !important 声明的样式的优先级最高。
2. 内联样式（直接在 HTML 元素上的 style 属性）。
3. ID 选择器（如 #id）。
4. 类选择器、属性选择器和伪类选择器（如 .class、[attr=value]、:hover）。
5. 元素选择器和伪元素选择器（如 div、::before）。
6. 通配符选择器（如 \*）、后代选择器（如 div p）、子选择器（如 div > p）等组合选择器。

### 2、扩展知识

| 选择器类型     | 格式          | 优先级权重 |
| -------------- | ------------- | ---------- |
| ID 选择器      | #id           | 100        |
| 类选择器       | .classname    | 10         |
| 属性选择器     | a[ref="eee"]  | 10         |
| 伪类选择器     | li:last-child | 10         |
| 标签选择器     | div           | 1          |
| 伪元素选择器   | li:after      | 1          |
| 相邻兄弟选择器 | h1 + p        | 0          |
| 子选择器       | ul > li       | 0          |
| 后代选择器     | li a          | 0          |
| 通配符选择器   | \*            | 0          |

## 二、CSS 中可继承与不可继承属性有哪些？

### 1、可继承属性：(文本)

```
color
font-family
font-size
font-style
font-variant
font-weight
letter-spacing
line-height
text-align
text-indent
text-transform
visibility
white-space
word-spacing
...
```

### 2、不可继承属性：(非文本)

```
background
border
display
height
margin
padding
width
position
top, right, bottom, left
z-index
float
clear
...
```

### 3、使用 inherit 关键字强制继承样式

## 三、使用 link 和 @import 引用 CSS 的区别

在 HTML 文档中，可以通过 `<link>` 标签或 CSS 中的 @import 语句来引用外部样式表。两者在使用方式、加载顺序、兼容性等方面有一些重要的区别。

| 特性         | `<link>` 标签                    | @import                                |
| ------------ | -------------------------------- | -------------------------------------- |
| 用法         | 在 HTML 文档的 `<head>` 部分使用 | 在 CSS 文件或 `<style>` 标签内使用     |
| 加载顺序     | 页面加载时立即加载样式表         | 在加载包含它的 CSS 文件后加载          |
| 浏览器支持   | 支持所有主流浏览器(兼容性好)     | 支持 IE5+ 和所有现代浏览器(兼容性问题) |
| 性能         | 加载并行进行，速度较快           | 加载顺序依赖，速度较慢                 |
| DOM 可操作性 | 可通过 JavaScript 操作和控制     | 不易通过 JavaScript 操作               |
| 样式权重     | 样式权重相同                     | 样式权重相同                           |

为了提高页面加载性能和保持较好的浏览器兼容性，推荐使用 `<link>` 标签来引入 CSS 样式，但在某些情况下，为了实现样式模块化，可以在 CSS 文件中 使用 @import 规则，不过需注意其对性能的影响。

## 四、CSS 预处理器和后处理器

CSS 预处理器和后处理器是用于提升 CSS 编写和管理效率的工具。
CSS 预处理器如 Sass、Less 可提供变量、嵌套、混合等高级功能来编写更具结构性和模块化的 CSS 代码。
CSS 后处理器如 PostCSS 则侧重于通过插件机制自动优化和增强 CSS，例如自动添加浏览器前缀等。
这些工具的使用可以使 CSS 代码更简洁、易维护，同时提升开发效率和项目的可扩展性。

### 1、CSS 预处理器的功能和优势：

-   变量：允许你定义变量，以便在整个样式表中复用同一组值，如颜色、字体大小等，从而减少重复定义并提高代码的可维护性。
-   嵌套：支持嵌套规则，使代码更加直观，类似于 HTML 结构，从而增加代码的可读性。
-   混合：通过混合（mixin）功能，允许你定义可复用的代码片段，并且可以带有参数，进一步减少重复代码。
-   文件拆分：允许将 CSS 代码拆分成多个文件，便于模块化开发和团队协作。
-   常见的 CSS 预处理器有：Sass、Less 等

### 2、CSS 后处理器的功能和优势：

-   自动添加浏览器前缀：通过插件如 Autoprefixer，能自动根据目标浏览器的兼容性需求添加必要的前缀。
-   优化和压缩：可利用插件进行 CSS 代码的优化和压缩，减少文件大小，提高加载速度。
-   转译现代 CSS 特性：通过插件，如 cssnext，可以使用未来的 CSS 特性，让代码更具前瞻性。
-   常见的 CSS 后处理器有：Autoprefixer、cssnano（用于压缩）、postcss-preset-env（未来 CSS 特性转译）等；

## 五、CSS 优化和提高性能的方法有哪些？

-   合并和最小化 CSS 文件：通过工具（如 Webpack、Gulp）将多个 CSS 文件合并为一个，并最小化 CSS 代码，减少文件大小和请求数。
-   使用 CSS 预处理器：利用 Sass、LESS 这些预处理器，可以编写更简洁高效的 CSS 代码，并支持变量、嵌套等特性。
-   减少使用高级选择器：避免使用复杂的选择器（如后代选择器、通配符选择器），优先使用类选择器，减少浏览器的解析时间。
-   避免冗余样式：删除未使用的 CSS 规则，确保所有样式都有实际用处。
-   合理使用 CSS Sprite：将多个小图标合并成一张图，通过 background-position 实现图标显示，减少 HTTP 请求。
-   使用 CSS 动画的调优：避免复杂的动画，尽量使用 transform 和 opacity，它们对性能影响较小。
-   CSS 放置位置：在 HTML 中，CSS 文件应放在 head 标签内，确保页面加载时能尽快应用样式。
-   使用内联样式进行关键渲染路径优化：对于首屏重要的样式，可以使用内联 CSS，减少首次渲染时间。

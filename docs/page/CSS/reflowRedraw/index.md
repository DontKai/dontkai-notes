# 重绘 和 重排（回流）

> 重绘不一定导致重排，但重排一定会导致重绘<br/>
> 重排（Reflow） && 重绘（Redraw）会付出高昂的性能代价

## 重绘

**重绘 （Redraw）**：某些元素的外观被改变所触发的浏览器行为（重新计算节点在屏幕中的绝对位置并渲染的过程）； 例如：修改元素的填充颜色，会触发重绘；

> 哪些操作会导致重绘 ❓

-   color
-   border-style
-   border-radius
-   text-decoration
-   box-shadow
-   outline
-   background
-   ...

## 重排（回流）

**重排 （Reflow）** ：重新生成布局，重新排列元素（重新计算各节点和 css 具体的大小和位置：渲染树需要重新计算所有受影响的节点）；例如：改元素的宽高，会触发重排；
通过两者概念区别明显得知，重排要比重绘的成本大得多，我们应该尽量减少重排操作，减少页面性能消耗

> 哪些操作会导致重排 ❓

-   页面初始渲染，这是开销最大的一次重排;
-   添加/删除可见的 DOM 元素;
-   改变元素位置;
-   改变元素尺寸，比如边距、填充、边框、宽度和高度等;
-   改变元素内容，比如文字数量，图片大小等;
-   改变元素字体大小;
-   改变浏览器窗口尺寸，比如 resize 事件发生时;
-   激活 CSS 伪类（例如：:hover）;
-   设置 style 属性的值，因为通过设置 style 属性改变结点样式的话，每一次设置都会触发一次 reflow;
-   查询某些属性或调用某些计算方法：offsetWidth、offsetHeight 等，除此之外，当我们调用 getComputedStyl 方法，或者 IE 里的 currentStyle 时，也会触发重排，原理是一样的，都为求一个“即时性”和“准确性”;
-   ...
